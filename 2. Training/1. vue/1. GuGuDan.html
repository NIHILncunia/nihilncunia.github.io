<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <title>Vue 1. 구구단</title>
</head>
<body>
  <div id="root">
    <div>{{first}}곱하기 {{second}}는 =</div>
    <form v-on:click="onSubmitForm">
      <!-- form은 기본적으로 페이지를 새로고침한다. 뷰나 리액트는 그래선 안된다. -->
      <input type="number" ref="answer" v-model="value">
      <!-- v-model은 데이터값을 input과 연결시켜주는 역할을 한다. -->
      <!-- ref를 설정해서 뷰가 input을 인식하게 만든다. -->
      <button type="submit">입력</button>
    </form>
    <div id="result">{{result}}</div>
    <!-- <div>{{value}}</div> -->
    <!-- input의 값을 바꾸면 자동으로 value가 바뀐다. -->
  </div>
</body>
<script>
  const app = new Vue({
    el: '#root',
    data: {
      first: Math.ceil(Math.random() * 9),
      second: Math.ceil(Math.random() * 9),
      value: '',
      result: '',
    },
    methods: {
      onSubmitForm(e) {
        e.preventDefault();
        console.log(this.first, this.second, this.value);
        if (this.first * this.second === parseInt(this.value)) {
          this.result = '정답!';
          this.first = Math.ceil(Math.random() * 9);
          this.second = Math.ceil(Math.random() * 9);
          this.value = '';
          this.$refs.answer.focus();
          // ref에 접근할 때에는 $를 이용해서 접근하고 s를 붙인다. 위와 같이 하면 커서가 input으로 향한다.
        } else if (this.value === '') {
          return;
        } else if (this.first * this.second !== parseInt(this.value)) {
          this.result = '땡!';
          this.value = '';
          this.$refs.answer.focus();
        }
      }
    },
  });
</script>
</html>